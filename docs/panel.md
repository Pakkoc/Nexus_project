# Discord Components v2 패널 UI

Discord Components v2를 적용한 패널들의 UI 가이드입니다.

## 목차

### 설치형 패널 (채널에 고정)
- [상점 패널 (설치형)](#설치형-상점-패널)
- [장터 패널 (설치형)](#설치형-장터-패널)
- [게임 패널 (설치형)](#설치형-게임-패널)

### 응답형 패널 (버튼 클릭 시)
1. [상점 패널](#1-상점-패널)
2. [인벤토리](#2-인벤토리)
3. [게임 패널](#3-게임-패널)
4. [금고](#4-금고)
5. [장터 패널](#5-장터-패널)

---

# 설치형 패널

채널에 고정되는 패널입니다. 웹 대시보드에서 설치하면 해당 채널에 메시지가 생성됩니다.

## 설치형 상점 패널

### 통합 상점
```
╔═════════════════════════════════════════════════════╗
║                                                     ║
║  # 🛒 상점                                          ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  아이템을 구매하여 다양한 혜택을 누려보세요!          ║
║                                                     ║
║  💰 **토피** 또는 💎 **루비**로 아이템을             ║
║  구매할 수 있습니다.                                 ║
║  구매한 아이템은 `/인벤토리` 명령어에서              ║
║  확인할 수 있습니다.                                 ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  -# 아래 버튼을 눌러 상점을 열어보세요!              ║
║                                                     ║
║  [🛒 상점 열기]                                     ║
║                                                     ║
╚═════════════════════════════════════════════════════╝
```

### 토피 전용 상점
```
╔═════════════════════════════════════════════════════╗
║                                                     ║
║  # 💰 토피 상점                                     ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  아이템을 구매하여 다양한 혜택을 누려보세요!          ║
║                                                     ║
║  💰 **토피**로 아이템을 구매할 수 있습니다.           ║
║  구매한 아이템은 `/인벤토리` 명령어에서              ║
║  확인할 수 있습니다.                                 ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  -# 아래 버튼을 눌러 상점을 열어보세요!              ║
║                                                     ║
║  [🛒 상점 열기]                                     ║
║                                                     ║
╚═════════════════════════════════════════════════════╝
```
*테두리 색상: 금색 (0xFFD700)*

### 루비 전용 상점
```
╔═════════════════════════════════════════════════════╗
║                                                     ║
║  # 💎 루비 상점                                     ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  아이템을 구매하여 다양한 혜택을 누려보세요!          ║
║                                                     ║
║  💎 **루비**로 아이템을 구매할 수 있습니다.           ║
║  구매한 아이템은 `/인벤토리` 명령어에서              ║
║  확인할 수 있습니다.                                 ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  -# 아래 버튼을 눌러 상점을 열어보세요!              ║
║                                                     ║
║  [🛒 상점 열기]                                     ║
║                                                     ║
╚═════════════════════════════════════════════════════╝
```
*테두리 색상: 핑크 (0xE91E63)*

---

## 설치형 장터 패널

```
╔═════════════════════════════════════════════════════╗
║                                                     ║
║  # 🛒 토피아 장터                                   ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  재능과 서비스를 자유롭게 거래하세요!                 ║
║                                                     ║
║  아래 버튼을 클릭하여 장터를 이용할 수 있습니다.      ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  💰 **토피 수수료**: 5%                             ║
║  💎 **루비 수수료**: 3%                             ║
║  ⏰ **등록 유효기간**: 30일                         ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  -# 거래 시 발생하는 분쟁은 관리자에게 문의하세요.   ║
║                                                     ║
║  [📋 목록보기] [📝 등록하기] [📦 내상품]            ║
║                                                     ║
╚═════════════════════════════════════════════════════╝
```

---

## 설치형 게임 패널

```
╔═════════════════════════════════════════════════════╗
║                                                     ║
║  # 🎮 내전 시스템                                   ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  참가비를 내고 내전에 참가하세요!                    ║
║                                                     ║
║  💰 **참가비**: 100 토피                            ║
║  🏆 **보상 비율**: 1등 50% | 2등 30% | 3등 15%      ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  **📋 참가 방법**                                   ║
║  1. 내전 메시지에서 참가 버튼 클릭                   ║
║  2. 참가비 자동 차감                                ║
║  3. 관리자가 팀 배정                                ║
║  4. 경기 후 순위 보상                               ║
║                                                     ║
║  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  ║
║                                                     ║
║  -# 관리자만 내전을 생성할 수 있습니다.              ║
║                                                     ║
║  [🎮 내전 생성] [⚙️ 카테고리]                       ║
║                                                     ║
╚═════════════════════════════════════════════════════╝
```

---

# 응답형 패널

버튼 클릭 시 표시되는 패널입니다.

---

## 1. 상점 패널

### 상점 목록
```
┌─────────────────────────────────────────────────────┐
│ # 💰 토피 상점                                       │
├─────────────────────────────────────────────────────┤
│ 📦 판매 중인 아이템 (3개)                            │
│ 아래에서 구매할 아이템을 선택하세요.                  │
├─────────────────────────────────────────────────────┤
│ **1. 경험치 부스터**                                 │
│ 💰 **500** 토피 · ♾️ 영구                           │
│ > 1시간 동안 XP 2배 획득                             │
├─────────────────────────────────────────────────────┤
│ **2. VIP 역할**                                      │
│ 💰 **1,000** 토피 · ⏰ 30일 · 📦 10개               │
│ > 특별한 VIP 역할을 획득합니다                       │
├─────────────────────────────────────────────────────┤
│ **3. 경고차감권**                                    │
│ 💰 **2,000** 토피 · ♾️ 영구 · 👤 3회               │
│ > 경고 횟수를 1회 차감합니다                         │
├─────────────────────────────────────────────────────┤
│ **💳 보유 잔액**                                     │
│ 💰 15,000 토피  |  💎 5 루비                         │
├─────────────────────────────────────────────────────┤
│ -# 페이지 1/2                                        │
└─────────────────────────────────────────────────────┘
 [▼ 구매할 아이템을 선택하세요]
 [◀ 이전] [다음 ▶]
```

### 수량 선택
```
┌─────────────────────────────────────────────────────┐
│ # 🛒 수량 선택                                       │
├─────────────────────────────────────────────────────┤
│ **경험치 부스터**                                    │
│ 💰 개당 **500** 토피                                 │
│                                                     │
│ 구매할 수량을 선택하세요.                            │
└─────────────────────────────────────────────────────┘
 [▼ 수량 선택 (1~10)]
 [취소]
```

### 구매 완료
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 구매 완료!                                      │
├─────────────────────────────────────────────────────┤
│ **경험치 부스터** x3을(를) 구매했습니다.             │
│                                                     │
│ 💰 **지불 금액**: 1,500 토피                         │
│ 📦 **보유 수량**: 3개                                │
│                                                     │
│ 🎯 사용 방법: /인벤토리 명령어에서 역할로 교환할 수  │
│ 있습니다.                                            │
└─────────────────────────────────────────────────────┘
```

### 구매 실패
```
┌─────────────────────────────────────────────────────┐
│ # ❌ 구매 실패                                       │
├─────────────────────────────────────────────────────┤
│ 잔액이 부족합니다.                                   │
│ 필요: 5,000 토피                                     │
│ 보유: 3,000 토피                                     │
└─────────────────────────────────────────────────────┘
```

---

## 2. 인벤토리

### 전체 아이템 목록
```
┌─────────────────────────────────────────────────────┐
│ # 🎒 인벤토리                                        │
├─────────────────────────────────────────────────────┤
│ 🎫 **선택권**은 아래 메뉴에서 역할로 교환할 수       │
│ 있습니다.                                            │
├─────────────────────────────────────────────────────┤
│ **1. 경고차감권**                                    │
│ ⚠️ 경고차감 · 📦 **5개**                            │
│ > 경고 횟수를 1회 차감합니다                         │
├─────────────────────────────────────────────────────┤
│ **2. VIP 티켓**                                      │
│ 🎁 일반 · 📦 **3개** · 🎭 3개 역할                  │
│ > VIP 역할을 선택할 수 있습니다                      │
├─────────────────────────────────────────────────────┤
│ **3. 디토 실버**                                     │
│ 🥈 디토실버 · ⏰ 25일 남음                          │
│ > 금고 이용 및 특별 혜택                             │
├─────────────────────────────────────────────────────┤
│ **4. 세금면제권**                                    │
│ 💸 세금면제 · 📦 **2개**                            │
└─────────────────────────────────────────────────────┘
 [▼ 사용할 선택권을 선택하세요]
```

### 빈 인벤토리
```
┌─────────────────────────────────────────────────────┐
│ # 🎒 인벤토리                                        │
├─────────────────────────────────────────────────────┤
│ 보유한 아이템이 없습니다.                            │
│ 상점에서 아이템을 구매해보세요!                      │
└─────────────────────────────────────────────────────┘
```

### 역할 선택 (선택권 사용)
```
┌─────────────────────────────────────────────────────┐
│ # 🎫 VIP 티켓                                        │
├─────────────────────────────────────────────────────┤
│ 원하는 역할을 선택하세요.                            │
├─────────────────────────────────────────────────────┤
│ 📦 **보유 수량**: 3개                                │
│ 🔄 **소모 개수**: 1개                                │
│ 🔁 **이전 역할**: 자동으로 제거됩니다                │
├─────────────────────────────────────────────────────┤
│ **🎭 선택 가능한 역할**                              │
│ • VIP 골드                                           │
│ • VIP 실버                                           │
│ • VIP 브론즈                                         │
└─────────────────────────────────────────────────────┘
 [▼ 역할 선택]
 [◀️ 뒤로가기]
```

### 역할 교환 확인
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 역할 교환 확인                                  │
├─────────────────────────────────────────────────────┤
│ **VIP 골드** 역할로 교환하시겠습니까?                │
├─────────────────────────────────────────────────────┤
│ **선택권**: VIP 티켓                                 │
│ **선택한 역할**: VIP 골드                            │
│                                                     │
│ **소모**: 1개 → 남은 수량: 2개                       │
│                                                     │
│ ⚠️ **주의**: 이 선택권의 다른 역할이 있다면          │
│ 제거됩니다.                                          │
└─────────────────────────────────────────────────────┘
 [✅ 교환하기] [◀️ 뒤로가기]
```

---

## 3. 게임 패널

### 도박 결과 (승리)
```
┌─────────────────────────────────────────────────────┐
│ # 🎰 도박 결과                                       │
├─────────────────────────────────────────────────────┤
│ 🎉 **승리!**                                         │
│                                                     │
│ 🎲 결과: **7 7 7**                                   │
│ 💰 베팅: 1,000 토피                                  │
│ 💵 획득: **2,000** 토피                              │
│ 📊 잔액: 15,000 토피                                 │
└─────────────────────────────────────────────────────┘
```

### 도박 결과 (패배)
```
┌─────────────────────────────────────────────────────┐
│ # 🎰 도박 결과                                       │
├─────────────────────────────────────────────────────┤
│ 😢 **패배...**                                       │
│                                                     │
│ 🎲 결과: **3 5 2**                                   │
│ 💰 베팅: 1,000 토피                                  │
│ 💸 손실: **1,000** 토피                              │
│ 📊 잔액: 9,000 토피                                  │
└─────────────────────────────────────────────────────┘
```

### 베팅 오류
```
┌─────────────────────────────────────────────────────┐
│ # ❌ 베팅 실패                                       │
├─────────────────────────────────────────────────────┤
│ 잔액이 부족합니다.                                   │
│ 필요: 10,000 토피                                    │
│ 보유: 5,000 토피                                     │
└─────────────────────────────────────────────────────┘
```

---

## 4. 금고

### 금고 현황
```
┌─────────────────────────────────────────────────────┐
│ # 🏦 내 금고                                         │
├─────────────────────────────────────────────────────┤
│ **디토 골드** 구독 혜택                              │
├─────────────────────────────────────────────────────┤
│ 💰 **예치금**: 50,000 토피                           │
│ 📊 **한도**: 100,000 토피                            │
│ 📈 **월 이자율**: 3%                                 │
│ 🔓 **남은 한도**: 50,000 토피                        │
├─────────────────────────────────────────────────────┤
│ -# 매월 1일에 이자가 지급됩니다                      │
└─────────────────────────────────────────────────────┘
```

### 금고 이용 불가
```
┌─────────────────────────────────────────────────────┐
│ # 🔒 금고 이용 불가                                  │
├─────────────────────────────────────────────────────┤
│ 금고는 **디토 실버** 또는 **디토 골드** 구독자만     │
│ 이용할 수 있습니다.                                  │
│                                                     │
│ 상점에서 디토뱅크 구독권을 구매해보세요!             │
└─────────────────────────────────────────────────────┘
```

### 예금 완료
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 예금 완료!                                      │
├─────────────────────────────────────────────────────┤
│ 금고에 **10,000 토피**를 예금했습니다.               │
│                                                     │
│ 💰 **금고 잔액**: 60,000 토피                        │
└─────────────────────────────────────────────────────┘
```

### 출금 완료
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 출금 완료!                                      │
├─────────────────────────────────────────────────────┤
│ 금고에서 **5,000 토피**를 출금했습니다.              │
│                                                     │
│ 💰 **금고 잔액**: 55,000 토피                        │
└─────────────────────────────────────────────────────┘
```

### 예금 실패 (한도 초과)
```
┌─────────────────────────────────────────────────────┐
│ # ❌ 예금 실패                                       │
├─────────────────────────────────────────────────────┤
│ 금고 한도를 초과했습니다.                            │
│ 현재 예치: 90,000 토피                               │
│ 한도: 100,000 토피                                   │
│ 남은 한도: 10,000 토피                               │
└─────────────────────────────────────────────────────┘
```

---

## 5. 장터 패널

### 장터 목록
```
┌─────────────────────────────────────────────────────┐
│ # 🛒 장터 목록                                       │
├─────────────────────────────────────────────────────┤
│ 📦 판매 중인 상품 (12개)                             │
│ 아래 메뉴에서 구매할 상품을 선택하세요.              │
├─────────────────────────────────────────────────────┤
│ **1. 프로필 디자인 해드립니다**                      │
│ 🎨 디자인 | 💰 **5,000** 토피                        │
│ 판매자: @디자이너 · 만료 3일 후                      │
├─────────────────────────────────────────────────────┤
│ **2. 배경음악 제작**                                 │
│ 🎵 음악 | 💎 **10** 루비                             │
│ 판매자: @작곡가 · 만료 5일 후                        │
├─────────────────────────────────────────────────────┤
│ **3. 디스코드 봇 개발**                              │
│ 💻 코딩 | 💰 **20,000** 토피                         │
│ 판매자: @개발자 · 만료 7일 후                        │
├─────────────────────────────────────────────────────┤
│ -# 페이지 1/3                                        │
└─────────────────────────────────────────────────────┘
 [▼ 카테고리 필터]
 [▼ 화폐 필터]
 [▼ 구매할 상품을 선택하세요]
 [◀ 이전] [다음 ▶] [🔄 새로고침]
```

### 빈 장터
```
┌─────────────────────────────────────────────────────┐
│ # 🛒 장터 목록                                       │
├─────────────────────────────────────────────────────┤
│ 현재 판매 중인 상품이 없습니다.                      │
│                                                     │
│ 상품을 등록하려면 패널의 **등록하기** 버튼을         │
│ 클릭하세요.                                          │
└─────────────────────────────────────────────────────┘
```

### 상품 상세/구매 확인
```
┌─────────────────────────────────────────────────────┐
│ # 📦 프로필 디자인 해드립니다                        │
├─────────────────────────────────────────────────────┤
│ 고퀄리티 프로필 이미지를 제작해드립니다.             │
│ PSD 원본 파일도 함께 제공됩니다.                     │
├─────────────────────────────────────────────────────┤
│ 👤 **판매자**: @디자이너                             │
│ 📂 **카테고리**: 🎨 디자인                           │
│ 💰 **가격**: **5,000** 토피                          │
│ ⏰ **만료**: 3일 후                                  │
├─────────────────────────────────────────────────────┤
│ -# 수수료 5%는 판매자가 부담합니다.                  │
└─────────────────────────────────────────────────────┘
 [✅ 구매하기] [❌ 취소]
```

### 구매 완료
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 구매 완료!                                      │
├─────────────────────────────────────────────────────┤
│ **프로필 디자인 해드립니다**을(를) 구매했습니다.     │
│                                                     │
│ 💰 **지불 금액**: 5,000 토피                         │
│ 💵 **남은 잔액**: 10,000 토피                        │
│                                                     │
│ 📝 **안내**                                          │
│ 판매자 @디자이너님에게 DM으로 연락하여 서비스를      │
│ 받으세요.                                            │
│ 분쟁 발생 시 관리자에게 문의하세요.                  │
└─────────────────────────────────────────────────────┘
```

### 등록 미리보기
```
┌─────────────────────────────────────────────────────┐
│ # 📝 상품 등록 미리보기                              │
├─────────────────────────────────────────────────────┤
│ 📦 **제목**: 로고 디자인 해드립니다                  │
│ 📄 **설명**: 심플하고 모던한 로고를 제작합니다       │
│ 💰 **가격**: 3,000 토피                              │
│ 📂 **카테고리**: 🎨 디자인                           │
│ 💵 **화폐**: 토피                                    │
├─────────────────────────────────────────────────────┤
│ -# 카테고리와 화폐를 선택한 후 등록하기를 눌러주세요 │
└─────────────────────────────────────────────────────┘
 [▼ 카테고리 선택]
 [▼ 화폐 선택]
 [등록하기] [취소]
```

### 등록 완료
```
┌─────────────────────────────────────────────────────┐
│ # ✅ 장터 등록 완료!                                 │
├─────────────────────────────────────────────────────┤
│ 📦 **상품명**: 로고 디자인 해드립니다                │
│ 📂 **카테고리**: 🎨 디자인                           │
│ 💰 **가격**: 3,000 토피                              │
│ 📋 **수수료**: 5% (판매 시 차감)                     │
│ ⏰ **만료**: 7일 후                                  │
│                                                     │
│ -# 상품 ID: #42                                      │
└─────────────────────────────────────────────────────┘
```

### 내 상품 목록
```
┌─────────────────────────────────────────────────────┐
│ # 📦 내 등록 상품                                    │
├─────────────────────────────────────────────────────┤
│ 총 3개의 상품                                        │
├─────────────────────────────────────────────────────┤
│ **1. 프로필 디자인 해드립니다**                      │
│ 토피 **5,000** · 🟢 판매 중 · 만료 3일 후            │
├─────────────────────────────────────────────────────┤
│ **2. 배너 제작**                                     │
│ 토피 **3,000** · ✅ 판매 완료                        │
│ 구매자: @구매자                                      │
├─────────────────────────────────────────────────────┤
│ **3. 아이콘 팩**                                     │
│ 루비 **5** · ⏰ 만료됨                               │
└─────────────────────────────────────────────────────┘
 [▼ 취소할 상품을 선택하세요]
```

---

## 공통 메시지 스타일

### 성공 메시지
```
┌─────────────────────────────────────────────────────┐
│ # ✅ [제목]                                          │
├─────────────────────────────────────────────────────┤
│ [내용]                                               │
└─────────────────────────────────────────────────────┘
```

### 오류 메시지
```
┌─────────────────────────────────────────────────────┐
│ # ❌ [제목]                                          │
├─────────────────────────────────────────────────────┤
│ [오류 내용]                                          │
└─────────────────────────────────────────────────────┘
```

### 취소/시간 초과
```
┌─────────────────────────────────────────────────────┐
│ # ⏰ 시간 초과                                       │
├─────────────────────────────────────────────────────┤
│ 시간이 초과되었습니다.                               │
└─────────────────────────────────────────────────────┘
```

---

## Components v2 특징

| 요소 | 마크다운 | 설명 |
|------|----------|------|
| 큰 제목 | `# 제목` | 패널 상단 타이틀 |
| 구분선 | `SeparatorBuilder` | 섹션 구분 |
| 작은 글씨 | `-# 텍스트` | 부가 정보, 페이지 번호 |
| 강조 | `**텍스트**` | 중요 정보 강조 |
| 인용 | `> 텍스트` | 설명, 부연 |

### 플래그
```typescript
const IS_COMPONENTS_V2 = 32768; // 1 << 15

await interaction.editReply({
  components: [container.toJSON()],
  flags: IS_COMPONENTS_V2,
});
```

### 주의사항
- `embeds`와 `content`는 Components v2와 함께 사용 불가
- `SectionBuilder`는 반드시 accessory(Button/Thumbnail) 필요 → `TextDisplayBuilder` 직접 사용 권장
- 최대 10개 top-level 컴포넌트, 총 40개 컴포넌트
